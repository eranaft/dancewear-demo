<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Studio Wear ‚Ä¢ Demo</title>
  <style>
    :root{
      --bg0:#07070a;
      --bg1:#0b0b10;
      --glass: rgba(255,255,255,.06);
      --glass2: rgba(255,255,255,.08);
      --line: rgba(255,255,255,.10);
      --line2: rgba(255,255,255,.14);
      --text:#f5f6fa;
      --muted: rgba(245,246,250,.68);
      --accent:#8b5cff;     /* techno purple */
      --accent2:#25f4ff;    /* cyan */
      --shadow: 0 18px 70px rgba(0,0,0,.55);
      --radius: 22px;
    }

    *{ box-sizing:border-box; }
    html, body{ height:100%; }
    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Arial;
      color:var(--text);
      background:
        radial-gradient(900px 520px at 15% -10%, rgba(139,92,255,.25), transparent 60%),
        radial-gradient(750px 520px at 95% 0%, rgba(37,244,255,.16), transparent 60%),
        radial-gradient(700px 420px at 60% 120%, rgba(139,92,255,.16), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      -webkit-tap-highlight-color: transparent;
      overflow-x:hidden;
    }

    /* subtle tech grid overlay */
    body:before{
      content:"";
      position:fixed;
      inset:0;
      pointer-events:none;
      background:
        linear-gradient(rgba(255,255,255,.045) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,.035) 1px, transparent 1px);
      background-size: 44px 44px;
      mask-image: radial-gradient(800px 520px at 50% 0%, black 55%, transparent 100%);
      opacity:.55;
      z-index:0;
    }

    .container{
      position:relative;
      z-index:1;
      max-width: 1020px;
      margin: 0 auto;
      padding: 0 14px;
    }

    header{
      position: sticky;
      top: 0;
      z-index: 50;
      background: rgba(7,7,10,.62);
      backdrop-filter: blur(14px);
      border-bottom: 1px solid rgba(255,255,255,.08);
    }

    .head{
      padding: 14px 0 12px;
      display:flex;
      gap:12px;
      align-items:flex-start;
      justify-content:space-between;
    }

    .brand{
      display:flex;
      flex-direction:column;
      gap:5px;
      min-width:0;
    }

    .brand a{
      color:var(--text);
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap:10px;
      width:fit-content;
    }

    .logoDot{
      width:10px; height:10px; border-radius:999px;
      background: radial-gradient(circle at 30% 30%, #fff, rgba(255,255,255,.2));
      box-shadow:
        0 0 0 6px rgba(139,92,255,.12),
        0 0 30px rgba(139,92,255,.25),
        0 0 18px rgba(37,244,255,.18);
      flex:0 0 auto;
    }

    .title{
      font-size: clamp(18px, 3.8vw, 22px);
      font-weight: 980;
      letter-spacing: .4px;
      line-height: 1.05;
    }
    .subtitle{
      color:var(--muted);
      font-size: 13px;
      line-height: 1.35;
    }

    .topActions{
      display:flex;
      gap:10px;
      align-items:center;
      flex: 0 0 auto;
    }

    .iconBtn{
      position:relative;
      width: 40px;
      height: 40px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.10);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.05));
      box-shadow: 0 16px 44px rgba(0,0,0,.35);
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
      user-select:none;
    }
    .iconBtn:active{ transform: scale(.95); }
    @media (hover:hover){
      .iconBtn:hover{
        transform: translateY(-1px);
        border-color: rgba(255,255,255,.18);
        box-shadow: 0 22px 58px rgba(0,0,0,.42);
      }
    }

    .icon{
      width: 20px;
      height: 20px;
      display:block;
      color: rgba(245,246,250,.92);
    }

    /* BADGE fixed: top center */
    .badge{
      position:absolute;
      top:-7px;
      left:50%;
      transform: translateX(-50%);
      min-width: 18px;
      height: 18px;
      padding: 0 6px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.95), rgba(255,255,255,.82));
      color:#0b0b10;
      font-size: 11px;
      font-weight: 980;
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow: 0 12px 26px rgba(0,0,0,.35);
      border: 2px solid rgba(7,7,10,.72);
    }

    /* bump animation */
    @keyframes bump{ 0%{transform:translateX(-50%) scale(1)} 35%{transform:translateX(-50%) scale(1.18)} 100%{transform:translateX(-50%) scale(1)} }
    .bumpBadge{ animation: bump .28s ease; }

    main{ padding: 14px 0 110px; }

    .panel{
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.05));
      border: 1px solid rgba(255,255,255,.10);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 12px;
      position:relative;
      overflow:hidden;
    }
    .panel:before{
      content:"";
      position:absolute;
      inset:-2px;
      background: radial-gradient(600px 240px at 20% 0%, rgba(139,92,255,.22), transparent 55%),
                  radial-gradient(600px 240px at 80% 0%, rgba(37,244,255,.18), transparent 55%);
      opacity:.55;
      pointer-events:none;
    }
    .panel > *{ position:relative; }

    .row{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap: wrap;
    }

    input, textarea{
      width:100%;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
      padding: 12px 14px;
      color: var(--text);
      outline: none;
      font-weight: 650;
      min-width: 0;
      transition: border-color .18s ease, box-shadow .18s ease, background .18s ease;
    }
    input::placeholder, textarea::placeholder{ color: rgba(245,246,250,.45); }
    input:focus, textarea:focus{
      border-color: rgba(139,92,255,.45);
      box-shadow: 0 0 0 4px rgba(139,92,255,.18);
      background: rgba(0,0,0,.22);
    }
    textarea{ min-height: 90px; resize: vertical; }

    .chip{
      width: auto;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
      color: rgba(245,246,250,.90);
      padding: 9px 12px;
      border-radius: 999px;
      font-weight: 950;
      cursor:pointer;
      transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease, background .18s ease;
      user-select:none;
    }
    .chip:active{ transform: scale(.98); }
    .chip.active{
      background: linear-gradient(135deg, rgba(139,92,255,.70), rgba(37,244,255,.18));
      border-color: rgba(255,255,255,.18);
      box-shadow: 0 18px 50px rgba(139,92,255,.18);
    }

    .hint{
      margin-top:10px;
      color: rgba(245,246,250,.60);
      font-size: 12.5px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    .hint span{
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.16);
    }

    .grid{
      margin-top: 12px;
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
      gap: 12px;
      align-items: stretch;
    }

    .productCard{
      position: relative;
      background: linear-gradient(180deg, rgba(255,255,255,.09), rgba(255,255,255,.05));
      border: 1px solid rgba(255,255,255,.10);
      border-radius: var(--radius);
      overflow:hidden;
      box-shadow: 0 20px 70px rgba(0,0,0,.35);
      transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
      display:flex;
      flex-direction:column;
      min-width: 0;
      will-change: transform;
    }
    @media (hover:hover){
      .productCard:hover{
        transform: translateY(-2px);
        border-color: rgba(255,255,255,.18);
        box-shadow: 0 26px 90px rgba(0,0,0,.42);
      }
    }
    .productCard:active{ transform: scale(.99); }

    .pImg{
      position: relative;
      height: 150px;
      background:
        radial-gradient(220px 120px at 30% 25%, rgba(139,92,255,.28), transparent 60%),
        radial-gradient(180px 120px at 70% 60%, rgba(37,244,255,.18), transparent 55%),
        linear-gradient(135deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
      display:flex;
      align-items:flex-end;
      padding: 12px;
      cursor:pointer;
    }

    .pBadge{
      background: rgba(0,0,0,.22);
      border: 1px solid rgba(255,255,255,.12);
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 980;
      letter-spacing:.2px;
      color: rgba(245,246,250,.92);
      backdrop-filter: blur(10px);
      user-select:none;
    }

    .pBody{
      padding: 12px;
      display:flex;
      flex-direction:column;
      gap: 6px;
      flex: 1 1 auto;
      min-width: 0;
    }
    .pName{
      font-weight: 980;
      letter-spacing: .2px;
      font-size: 15px;
      line-height: 1.2;
      overflow:hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
    .pDesc{
      color: rgba(245,246,250,.66);
      font-size: 12.5px;
      line-height: 1.35;
      min-height: 34px;
    }

    .pBottom{
      margin-top: auto;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
    }
    .pPrice{
      font-weight: 980;
      letter-spacing: .2px;
      white-space: nowrap;
    }

    /* icon-only add to cart */
    .miniBtn{
      width: 38px;
      height: 38px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      transition: transform .18s ease, border-color .18s ease, box-shadow .18s ease, background .18s ease;
      user-select:none;
      flex: 0 0 auto;
    }
    .miniBtn:active{ transform: scale(.95); }
    @media (hover:hover){
      .miniBtn:hover{
        border-color: rgba(255,255,255,.18);
        box-shadow: 0 16px 40px rgba(0,0,0,.35);
      }
    }

    /* Wishlist heart (fixed & centered) */
    .wishBtn{
      position:absolute;
      top:10px;
      right:10px;
      width: 38px;
      height: 38px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.22);
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 50px rgba(0,0,0,.35);
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      transition: transform .18s ease, border-color .18s ease, background .18s ease;
      user-select:none;
      padding:0;
    }
    .wishBtn:active{ transform: scale(.95); }
    .wishBtn svg{ width:20px; height:20px; display:block; }
    .wishBtn.on{
      background: linear-gradient(135deg, rgba(139,92,255,.62), rgba(37,244,255,.14));
      border-color: rgba(255,255,255,.18);
    }

    /* pages */
    .view{ transition: opacity .18s ease, transform .18s ease; }
    .hidden{
      opacity: 0;
      transform: translateY(8px);
      pointer-events: none;
      position: absolute;
      left: -9999px;
    }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.09), rgba(255,255,255,.05));
      border: 1px solid rgba(255,255,255,.10);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 14px;
      min-width: 0;
    }

    .btn{
      width:100%;
      border:0;
      border-radius: 18px;
      padding: 14px;
      font-weight: 980;
      letter-spacing: .2px;
      cursor:pointer;
      background: linear-gradient(135deg, rgba(139,92,255,.85), rgba(37,244,255,.18));
      color:#fff;
      box-shadow: 0 18px 60px rgba(139,92,255,.18);
      transition: transform .18s ease, box-shadow .18s ease;
    }
    .btn:active{ transform: scale(.98); }

    .btn2{
      width:100%;
      border:1px solid rgba(255,255,255,.10);
      border-radius: 18px;
      padding: 14px;
      font-weight: 950;
      cursor:pointer;
      background: rgba(0,0,0,.18);
      color: rgba(245,246,250,.92);
      transition: transform .18s ease;
    }
    .btn2:active{ transform: scale(.98); }

    .two{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    @media (max-width: 420px){
      .two{ grid-template-columns: 1fr; }
    }

    /* bottom bar */
    .bar{
      position: fixed;
      left:0; right:0; bottom:0;
      z-index: 60;
      padding: 12px 14px calc(12px + env(safe-area-inset-bottom));
      background: rgba(7,7,10,.65);
      backdrop-filter: blur(14px);
      border-top: 1px solid rgba(255,255,255,.08);
    }
    .barInner{
      max-width: 1020px;
      margin: 0 auto;
      display:flex;
      gap: 10px;
      align-items:center;
    }
    .barHint{
      text-align:center;
      color: rgba(245,246,250,.55);
      font-size: 12.5px;
      margin-top: 8px;
    }

    /* toast */
    #toast{
      position: fixed;
      left: 50%;
      bottom: calc(92px + env(safe-area-inset-bottom));
      transform: translateX(-50%) translateY(10px);
      background: rgba(0,0,0,.72);
      border: 1px solid rgba(255,255,255,.12);
      color: #fff;
      padding: 10px 14px;
      border-radius: 999px;
      font-weight: 950;
      font-size: 13px;
      opacity: 0;
      transition: opacity .18s ease, transform .18s ease;
      box-shadow: 0 18px 60px rgba(0,0,0,.50);
      z-index: 9999;
      white-space: nowrap;
      max-width: calc(100vw - 24px);
      overflow:hidden;
      text-overflow: ellipsis;
    }
    #toast.show{
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }

    /* appear */
    @keyframes fadeUp{
      from{ opacity:0; transform: translateY(10px); }
      to{ opacity:1; transform: translateY(0); }
    }
    .appear{ animation: fadeUp .28s ease both; }

    /* flying dot */
    .flyDot{
      position: fixed;
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.95), rgba(139,92,255,.85));
      z-index: 10000;
      pointer-events: none;
      box-shadow: 0 16px 44px rgba(139,92,255,.18);
    }

    /* modal */
    .modalWrap{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.42);
      backdrop-filter: blur(8px);
      display:none;
      align-items:flex-end;
      justify-content:center;
      z-index: 20000;
      padding: 14px;
    }
    .modalWrap.show{ display:flex; }
    .sheet{
      width: min(520px, 100%);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 24px;
      box-shadow: 0 26px 110px rgba(0,0,0,.55);
      padding: 14px;
      transform: translateY(14px);
      opacity: 0;
      animation: sheetIn .18s ease forwards;
    }
    @keyframes sheetIn{ to{ transform: translateY(0); opacity:1; } }

    .sheetTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom: 10px;
    }
    .profile{
      display:flex;
      gap:10px;
      align-items:center;
      min-width: 0;
    }
    .avatar{
      width: 38px;
      height: 38px;
      border-radius: 999px;
      background: linear-gradient(135deg, rgba(139,92,255,.22), rgba(37,244,255,.10));
      border: 1px solid rgba(255,255,255,.12);
      flex: 0 0 auto;
      box-shadow: 0 18px 60px rgba(139,92,255,.12);
    }
    .pName2{
      font-weight: 980;
      line-height: 1.2;
      overflow:hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
    .pUser2{
      color: rgba(245,246,250,.65);
      font-size: 12.5px;
      overflow:hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
  </style>
</head>

<body>
<header>
  <div class="container">
    <div class="head">
      <div class="brand">
        <a href="javascript:void(0)" onclick="go('catalog')" aria-label="–ù–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω">
          <span class="logoDot"></span>
          <span class="title">Studio Wear</span>
        </a>
        <div class="subtitle">Tech fashion ‚Ä¢ –≤–∏—Ç—Ä–∏–Ω–∞ –≤ Telegram (–¥–µ–º–æ)</div>
      </div>

      <div class="topActions">
        <button class="iconBtn" onclick="openAccount()" aria-label="–ê–∫–∫–∞—É–Ω—Ç">
          <!-- user -->
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 21a8 8 0 0 0-16 0"></path>
            <circle cx="12" cy="8" r="4"></circle>
          </svg>
        </button>

        <button class="iconBtn" onclick="toggleWishlistView()" aria-label="–ò–∑–±—Ä–∞–Ω–Ω–æ–µ">
          <!-- heart -->
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 21s-7-4.6-9.5-8.5C.6 9.3 2.4 6 6 6c2 0 3.2 1 4 2 0.8-1 2-2 4-2 3.6 0 5.4 3.3 3.5 6.5C19 16.4 12 21 12 21z"></path>
          </svg>
        </button>

        <button class="iconBtn" id="cartBtn" onclick="go('cart')" aria-label="–ö–æ—Ä–∑–∏–Ω–∞">
          <!-- cart -->
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M6 6h15l-2 9H8L6 6z"></path>
            <path d="M6 6 5 3H2"></path>
            <circle cx="9" cy="20" r="1.6"></circle>
            <circle cx="18" cy="20" r="1.6"></circle>
          </svg>
          <div class="badge" id="cartBadge" style="display:none;">0</div>
        </button>
      </div>
    </div>
  </div>
</header>

<div id="toast">–ì–æ—Ç–æ–≤–æ</div>

<main class="container">
  <!-- CATALOG -->
  <div id="viewCatalog" class="view">
    <div class="panel">
      <div class="row">
        <input id="search" placeholder="–ü–æ–∏—Å–∫: —Ç–æ–ø, –ª–µ–≥–∏–Ω—Å—ã, –∫–æ–º–ø–ª–µ–∫—Ç‚Ä¶" oninput="applyFilters()" />
      </div>

      <div class="row" style="margin-top:10px;">
        <button class="chip active" id="chip_all" onclick="setCategory('all')">–í—Å–µ</button>
        <button class="chip" id="chip_sets" onclick="setCategory('sets')">–ö–æ–º–ø–ª–µ–∫—Ç—ã</button>
        <button class="chip" id="chip_tops" onclick="setCategory('tops')">–¢–æ–ø—ã</button>
        <button class="chip" id="chip_leggings" onclick="setCategory('leggings')">–õ–µ–≥–∏–Ω—Å—ã</button>
        <button class="chip" id="chip_leotards" onclick="setCategory('leotards')">–ö—É–ø–∞–ª—å–Ω–∏–∫–∏</button>
      </div>

      <div class="hint" id="catalogHint">
        <span>–ü–æ–¥–±–æ—Ä —Ä–∞–∑–º–µ—Ä–æ–≤</span><span>–î–æ—Å—Ç–∞–≤–∫–∞</span><span>–û–ø–ª–∞—Ç–∞ (—Å–∫–æ—Ä–æ)</span><span>–ù–æ–≤—ã–π –¥—Ä–æ–ø</span>
      </div>
    </div>

    <div class="grid" id="catalog"></div>
  </div>

  <!-- PRODUCT -->
  <div id="viewProduct" class="view hidden">
    <div class="card">
      <button class="btn2" onclick="go('catalog')" style="margin-top:0;">‚Üê –ù–∞–∑–∞–¥</button>

      <div class="pImg" id="pImg" style="height:240px; border-radius:18px; margin-top:12px;">
        <div class="pBadge" id="pBadge">Studio</div>
      </div>

      <div style="margin-top:12px;">
        <div style="font-size: clamp(18px, 4.2vw, 22px); font-weight: 980; letter-spacing:.2px;" id="pName">‚Äî</div>
        <div class="subtitle" style="margin-top:6px;" id="pDesc">‚Äî</div>

        <div class="row" style="margin-top:14px;">
          <button class="chip active" style="cursor:default;" id="pPrice">‚Äî</button>
          <button class="chip" style="cursor:default;" id="pMeta">‚Äî</button>
        </div>

        <div class="row" style="margin-top:12px;">
          <button class="miniBtn" id="pWishBtn" onclick="toggleWish(window.__currentProductId)" aria-label="–ò–∑–±—Ä–∞–Ω–Ω–æ–µ">
            <!-- heart -->
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 21s-7-4.6-9.5-8.5C.6 9.3 2.4 6 6 6c2 0 3.2 1 4 2 0.8-1 2-2 4-2 3.6 0 5.4 3.3 3.5 6.5C19 16.4 12 21 12 21z"></path>
            </svg>
          </button>

          <button class="btn" onclick="addToCart(window.__currentProductId, true)" style="margin-top:0;">
            –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- CART -->
  <div id="viewCart" class="view hidden">
    <div class="card">
      <div class="row" style="justify-content:space-between;">
        <div style="font-size:18px; font-weight:980;">–ö–æ—Ä–∑–∏–Ω–∞</div>
        <button class="chip active" id="cartTotal" style="cursor:default;">–ò—Ç–æ–≥–æ: 0‚ÇΩ</button>
      </div>

      <div id="cartList" style="margin-top:10px;"></div>

      <button class="btn" onclick="go('checkout')" style="margin-top:12px;">
        –ü–µ—Ä–µ–π—Ç–∏ –∫ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é
      </button>
      <button class="btn2" onclick="go('catalog')" style="margin-top:10px;">
        ‚Üê –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∫—É–ø–∫–∏
      </button>
    </div>
  </div>

  <!-- CHECKOUT -->
  <div id="viewCheckout" class="view hidden">
    <div class="card">
      <button class="btn2" onclick="go('cart')" style="margin-top:0;">‚Üê –ù–∞–∑–∞–¥</button>

      <div style="font-size:18px; font-weight:980; margin:12px 0 6px;">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ (–¥–µ–º–æ)</div>

      <div class="two">
        <div>
          <div class="subtitle" style="margin:6px 0;">–ò–º—è</div>
          <input id="name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–∞—à–∞" />
        </div>
        <div>
          <div class="subtitle" style="margin:6px 0;">–¢–µ–ª–µ—Ñ–æ–Ω</div>
          <input id="phone" placeholder="+7 ..." />
        </div>
      </div>

      <div class="subtitle" style="margin:10px 0 6px;">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (—Ä–∞–∑–º–µ—Ä/—Ü–≤–µ—Ç/–¥–æ—Å—Ç–∞–≤–∫–∞)</div>
      <textarea id="comment" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —Ä–∞–∑–º–µ—Ä M, –¥–æ—Å—Ç–∞–≤–∫–∞ –°–î–≠–ö"></textarea>

      <button class="btn" onclick="sendOrder()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑ –≤ Telegram</button>
      <div class="subtitle" style="margin-top:10px;">
        * –î–µ–º–æ. –†–µ–∞–ª—å–Ω–∞—è –æ–ø–ª–∞—Ç–∞ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –¥–∞–ª—å—à–µ (–°–ë–ü/–∫–∞—Ä—Ç—ã).
      </div>
    </div>
  </div>
</main>

<div class="bar">
  <div class="barInner">
    <button class="btn" onclick="go('cart')">–û—Ç–∫—Ä—ã—Ç—å –∫–æ—Ä–∑–∏–Ω—É</button>
  </div>
  <div class="barHint">–ë–µ–∑ —Å–∞–π—Ç–∞ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ ‚Ä¢ –ø—Ä—è–º–æ –≤ Telegram</div>
</div>

<!-- account modal -->
<div class="modalWrap" id="accountModal" onclick="closeAccount(event)">
  <div class="sheet" onclick="event.stopPropagation()">
    <div class="sheetTop">
      <div class="profile">
        <div class="avatar" id="avatar"></div>
        <div style="min-width:0;">
          <div class="pName2" id="accName">–ì–æ—Å—Ç—å</div>
          <div class="pUser2" id="accUser">–û—Ç–∫—Ä–æ–π—Ç–µ –≤–Ω—É—Ç—Ä–∏ Telegram</div>
        </div>
      </div>
      <button class="iconBtn" style="width:38px;height:38px;box-shadow:none;" onclick="closeAccount()">
        ‚úï
      </button>
    </div>

    <div class="subtitle">
      –î–µ–º–æ-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç –∏–º—è –∏–∑ Telegram –ø—Ä–æ—Ñ–∏–ª—è (–µ—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç–æ –≤–Ω—É—Ç—Ä–∏ Telegram).
      –ù–∞—Å—Ç–æ—è—â–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ –¥–µ–ª–∞–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
    </div>

    <button class="btn2" style="margin-top:12px;" onclick="tryFillCheckoutFromProfile()">
      –ó–∞–ø–æ–ª–Ω–∏—Ç—å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è
    </button>

    <button class="btn2" style="margin-top:10px;" onclick="clearLocal()">
      –û—á–∏—Å—Ç–∏—Ç—å –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
    </button>
  </div>
</div>

<script>
  // =============================
  // –ù–ê–°–¢–†–û–ô–ö–ò
  // =============================
  const OWNER_USERNAME = "egorkrab"; // <-- –ø–æ–º–µ–Ω—è–π –Ω–∞ username –≤–ª–∞–¥–µ–ª–∏—Ü—ã (–±–µ–∑ @)

  // =============================
  // –î–ê–ù–ù–´–ï (–¥–µ–º–æ)
  // =============================
  const PRODUCTS = [
    { id:"set1", cat:"sets", badge:"Studio",  name:"Silk Line Set",        desc:"–ö–æ–º–ø–ª–µ–∫—Ç ‚Ä¢ –º—è–≥–∫–∞—è –ø–æ—Å–∞–¥–∫–∞",             price:3490, meta:"XS‚ÄìL ‚Ä¢ ivory/black" },
    { id:"set2", cat:"sets", badge:"Elegant", name:"Contour Set",          desc:"–ö–æ–º–ø–ª–µ–∫—Ç ‚Ä¢ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–µ—Ç –ª–∏–Ω–∏—é",         price:3790, meta:"XS‚ÄìL ‚Ä¢ black" },
    { id:"set3", cat:"sets", badge:"Core",    name:"Minimal Set",          desc:"–ö–æ–º–ø–ª–µ–∫—Ç ‚Ä¢ –±–∞–∑–æ–≤—ã–π —Å—Ç—É–¥–∏–π–Ω—ã–π",          price:3290, meta:"XS‚ÄìL ‚Ä¢ sand" },

    { id:"leo1", cat:"leotards", badge:"Elegant", name:"Contour Leotard",  desc:"–ö—É–ø–∞–ª—å–Ω–∏–∫ ‚Ä¢ –ø–æ—Å–∞–¥–∫–∞ –ø–æ —Ñ–∏–≥—É—Ä–µ",         price:2590, meta:"XS‚ÄìL ‚Ä¢ black" },
    { id:"leo2", cat:"leotards", badge:"Studio",  name:"Line Leotard",     desc:"–ö—É–ø–∞–ª—å–Ω–∏–∫ ‚Ä¢ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–∞—è —Ç–∫–∞–Ω—å",          price:2390, meta:"XS‚ÄìL ‚Ä¢ ivory" },
    { id:"leo3", cat:"leotards", badge:"Soft",    name:"Air Leotard",      desc:"–ö—É–ø–∞–ª—å–Ω–∏–∫ ‚Ä¢ –º—è–≥–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞",          price:2290, meta:"XS‚ÄìM ‚Ä¢ sand" },

    { id:"top1", cat:"tops", badge:"Soft",    name:"Studio Top",           desc:"–¢–æ–ø ‚Ä¢ –º—è–≥–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞",                price:1490, meta:"XS‚ÄìM ‚Ä¢ 3 —Ü–≤–µ—Ç–∞" },
    { id:"top2", cat:"tops", badge:"Core",    name:"Classic Top",          desc:"–¢–æ–ø ‚Ä¢ –±–∞–∑–æ–≤—ã–π —Å–∏–ª—É—ç—Ç",                  price:1390, meta:"XS‚ÄìL ‚Ä¢ black" },
    { id:"top3", cat:"tops", badge:"Elegant", name:"Line Top",             desc:"–¢–æ–ø ‚Ä¢ —á–∏—Å—Ç–∞—è –ª–∏–Ω–∏—è",                    price:1590, meta:"XS‚ÄìL ‚Ä¢ ivory" },

    { id:"leg1", cat:"leggings", badge:"Core",    name:"High Waist Leggings",  desc:"–õ–µ–≥–∏–Ω—Å—ã ‚Ä¢ –≤—ã—Å–æ–∫–∞—è –ø–æ—Å–∞–¥–∫–∞",       price:1990, meta:"XS‚ÄìL ‚Ä¢ black" },
    { id:"leg2", cat:"leggings", badge:"Studio",  name:"Second Skin Leggings",desc:"–õ–µ–≥–∏–Ω—Å—ã ‚Ä¢ –∫–∞–∫ –≤—Ç–æ—Ä–∞—è –∫–æ–∂–∞",         price:2190, meta:"XS‚ÄìL ‚Ä¢ sand" },
    { id:"leg3", cat:"leggings", badge:"Soft",    name:"Smooth Leggings",      desc:"–õ–µ–≥–∏–Ω—Å—ã ‚Ä¢ –º—è–≥–∫–∞—è —Ç–∫–∞–Ω—å",           price:1890, meta:"XS‚ÄìL ‚Ä¢ ivory" },
  ];

  const CART_KEY = "tech_shop_cart_v1";
  const WISH_KEY = "tech_shop_wish_v1";

  function getCart(){ return JSON.parse(localStorage.getItem(CART_KEY) || "{}"); }
  function setCart(c){ localStorage.setItem(CART_KEY, JSON.stringify(c)); updateUI(); }

  function getWish(){ return JSON.parse(localStorage.getItem(WISH_KEY) || "[]"); }
  function setWish(arr){ localStorage.setItem(WISH_KEY, JSON.stringify(arr)); updateUI(); }

  // =============================
  // PROFILE (Telegram WebApp)
  // =============================
  function getTelegramUser(){
    try{ return window.Telegram?.WebApp?.initDataUnsafe?.user || null; }
    catch(e){ return null; }
  }
  function formatName(u){
    const f = (u?.first_name || "").trim();
    const l = (u?.last_name || "").trim();
    return (f + " " + l).trim() || "–ü–æ–∫—É–ø–∞—Ç–µ–ª—å";
  }
  function fillAccountUI(){
    const u = getTelegramUser();
    const accName = document.getElementById("accName");
    const accUser = document.getElementById("accUser");
    if(u){
      accName.textContent = formatName(u);
      accUser.textContent = u.username ? ("@" + u.username) : ("id: " + u.id);
    } else {
      accName.textContent = "–ì–æ—Å—Ç—å";
      accUser.textContent = "–û—Ç–∫—Ä–æ–π—Ç–µ –≤–Ω—É—Ç—Ä–∏ Telegram";
    }
  }
  function tryFillCheckoutFromProfile(){
    const u = getTelegramUser();
    if(!u){ showToast("–û—Ç–∫—Ä–æ–π—Ç–µ –º–∞–≥–∞–∑–∏–Ω –≤–Ω—É—Ç—Ä–∏ Telegram"); return; }
    const name = document.getElementById("name");
    if(name) name.value = formatName(u);
    showToast("–ó–∞–ø–æ–ª–Ω–∏–ª –∏–º—è –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è");
    haptic("success");
  }

  // =============================
  // HELPERS
  // =============================
  function haptic(type){
    try{
      const H = window.Telegram?.WebApp?.HapticFeedback;
      if(!H) return;
      if(type === "impact") H.impactOccurred("light");
      if(type === "success") H.notificationOccurred("success");
    }catch(e){}
  }

  function showToast(text="–ì–æ—Ç–æ–≤–æ"){
    const t = document.getElementById("toast");
    t.textContent = text;
    t.classList.add("show");
    clearTimeout(window.__toastTimer);
    window.__toastTimer = setTimeout(()=>t.classList.remove("show"), 1200);
  }

  function bumpCartBadge(){
    const badge = document.getElementById("cartBadge");
    badge.classList.remove("bumpBadge");
    void badge.offsetWidth;
    badge.classList.add("bumpBadge");
  }

  function flyToCart(fromEl){
    if(!fromEl) return;
    const cartBtn = document.getElementById("cartBtn");
    const a = fromEl.getBoundingClientRect();
    const b = cartBtn.getBoundingClientRect();

    const dot = document.createElement("div");
    dot.className = "flyDot";
    dot.style.left = (a.left + a.width/2 - 5) + "px";
    dot.style.top  = (a.top + a.height/2 - 5) + "px";
    document.body.appendChild(dot);

    const startX = a.left + a.width/2;
    const startY = a.top + a.height/2;
    const endX = b.left + b.width/2;
    const endY = b.top + b.height/2;

    const dx = endX - startX;
    const dy = endY - startY;

    const duration = 420;
    const start = performance.now();

    function step(t){
      const p = Math.min(1, (t - start)/duration);
      const e = 1 - Math.pow(1 - p, 3);
      const arc = Math.sin(p * Math.PI) * -60;
      dot.style.transform = `translate(${dx*e}px, ${dy*e + arc}px) scale(${1 - 0.4*p})`;
      dot.style.opacity = String(1 - 0.2*p);
      if(p < 1) requestAnimationFrame(step);
      else dot.remove();
    }
    requestAnimationFrame(step);
  }

  // =============================
  // NAV
  // =============================
  function showView(name){
    const map = { catalog:"viewCatalog", product:"viewProduct", cart:"viewCart", checkout:"viewCheckout" };
    Object.values(map).forEach(id => document.getElementById(id).classList.add("hidden"));
    document.getElementById(map[name]).classList.remove("hidden");
    updateUI();
    window.scrollTo({ top: 0, behavior: "smooth" });
  }
  function go(name){ location.hash = name === "catalog" ? "#/" : `#/${name}`; }
  function handleRoute(){
    const h = (location.hash || "#/").replace("#/","");
    const page = h || "catalog";
    if(page === "product") showView("product");
    else if(page === "cart") showView("cart");
    else if(page === "checkout") showView("checkout");
    else showView("catalog");
  }
  window.addEventListener("hashchange", handleRoute);

  // =============================
  // FILTERS + WISHLIST VIEW
  // =============================
  let currentCategory = "all";
  let wishlistView = false;

  function setCategory(cat){
    currentCategory = cat;
    ["all","sets","tops","leggings","leotards"].forEach(x=>{
      const el = document.getElementById("chip_"+x);
      if(el) el.classList.toggle("active", x===cat);
    });
    wishlistView = false;
    applyFilters();
    haptic("impact");
  }

  function toggleWishlistView(){
    wishlistView = !wishlistView;
    const hint = document.getElementById("catalogHint");
    hint.innerHTML = wishlistView
      ? `<span>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</span><span>–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ</span><span>Tech drop</span>`
      : `<span>–ü–æ–¥–±–æ—Ä —Ä–∞–∑–º–µ—Ä–æ–≤</span><span>–î–æ—Å—Ç–∞–≤–∫–∞</span><span>–û–ø–ª–∞—Ç–∞ (—Å–∫–æ—Ä–æ)</span><span>–ù–æ–≤—ã–π –¥—Ä–æ–ø</span>`;
    applyFilters();
    showToast(wishlistView ? "–ò–∑–±—Ä–∞–Ω–Ω–æ–µ" : "–ö–∞—Ç–∞–ª–æ–≥");
    haptic("impact");
  }

  function applyFilters(){
    const q = (document.getElementById("search")?.value || "").trim().toLowerCase();
    const wish = new Set(getWish());

    const filtered = PRODUCTS.filter(p=>{
      const matchWish = !wishlistView || wish.has(p.id);
      const matchCat = currentCategory === "all" || p.cat === currentCategory;
      const matchQ = !q || (p.name + " " + p.desc + " " + p.badge).toLowerCase().includes(q);
      return matchWish && matchCat && matchQ;
    });

    renderCatalog(filtered);
  }

  // =============================
  // WISHLIST
  // =============================
  function isWished(id){ return getWish().includes(id); }
  function toggleWish(id){
    const arr = getWish();
    const i = arr.indexOf(id);
    if(i >= 0) arr.splice(i,1); else arr.push(id);
    setWish(arr);
    applyFilters();
    showToast(arr.includes(id) ? "–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ" : "–£–±—Ä–∞–Ω–æ –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ");
    haptic("success");
    updateProductWishButton(id);
  }
  function updateProductWishButton(id){
    const btn = document.getElementById("pWishBtn");
    if(!btn) return;
    const on = isWished(id);
    btn.style.borderColor = on ? "rgba(255,255,255,.18)" : "rgba(255,255,255,.10)";
  }

  // =============================
  // RENDER CATALOG (icon cart, fixed hearts)
  // =============================
  function renderCatalog(list = PRODUCTS){
    const el = document.getElementById("catalog");
    el.innerHTML = "";

    if(!list.length){
      el.innerHTML = `<div class="subtitle" style="padding: 12px 6px;">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.</div>`;
      return;
    }

    list.forEach((p, i)=>{
      const card = document.createElement("div");
      card.className = "productCard appear";
      card.style.animationDelay = (Math.min(i, 14) * 18) + "ms";

      const wished = isWished(p.id);

      card.innerHTML = `
        <button class="wishBtn ${wished ? "on" : ""}" data-wish="${p.id}" aria-label="–ò–∑–±—Ä–∞–Ω–Ω–æ–µ">
          <svg viewBox="0 0 24 24" fill="${wished ? "rgba(255,255,255,.96)" : "none"}" stroke="${wished ? "rgba(255,255,255,.96)" : "rgba(245,246,250,.92)"}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 21s-7-4.6-9.5-8.5C.6 9.3 2.4 6 6 6c2 0 3.2 1 4 2 0.8-1 2-2 4-2 3.6 0 5.4 3.3 3.5 6.5C19 16.4 12 21 12 21z"></path>
          </svg>
        </button>

        <div class="pImg" data-open="${p.id}">
          <div class="pBadge">${p.badge}</div>
        </div>

        <div class="pBody">
          <div class="pName" title="${p.name}">${p.name}</div>
          <div class="pDesc">${p.desc}</div>
          <div class="pBottom">
            <div class="pPrice">${p.price}‚ÇΩ</div>
            <button class="miniBtn" data-add="${p.id}" aria-label="–í –∫–æ—Ä–∑–∏–Ω—É">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M6 6h15l-2 9H8L6 6z"></path>
                <path d="M6 6 5 3H2"></path>
                <circle cx="9" cy="20" r="1.6"></circle>
                <circle cx="18" cy="20" r="1.6"></circle>
              </svg>
            </button>
          </div>
        </div>
      `;

      el.appendChild(card);
    });

    // open product
    el.querySelectorAll("[data-open]").forEach(img=>{
      img.addEventListener("click", ()=> openProduct(img.getAttribute("data-open")));
    });

    // add to cart (icon)
    el.querySelectorAll("[data-add]").forEach(btn=>{
      btn.addEventListener("click", (e)=>{
        e.stopPropagation();
        const id = btn.getAttribute("data-add");
        addToCart(id, false, btn);
      });
    });

    // wishlist
    el.querySelectorAll("[data-wish]").forEach(btn=>{
      btn.addEventListener("click", (e)=>{
        e.stopPropagation();
        const id = btn.getAttribute("data-wish");
        toggleWish(id);
      });
    });
  }

  // =============================
  // PRODUCT PAGE
  // =============================
  function openProduct(id){
    const p = PRODUCTS.find(x=>x.id===id);
    if(!p) return;

    window.__currentProductId = id;

    document.getElementById("pBadge").textContent = p.badge;
    document.getElementById("pName").textContent = p.name;
    document.getElementById("pDesc").textContent = p.desc;
    document.getElementById("pPrice").textContent = `${p.price}‚ÇΩ`;
    document.getElementById("pMeta").textContent = p.meta;

    updateProductWishButton(id);

    go("product");
    haptic("impact");
  }

  // =============================
  // CART
  // =============================
  function cartCount(){
    const c = getCart();
    return Object.values(c).reduce((a,b)=>a+b,0);
  }

  function cartSummary(){
    const c = getCart();
    let total = 0;
    const items = [];
    for (const [id, qty] of Object.entries(c)){
      const p = PRODUCTS.find(x=>x.id===id);
      if(!p) continue;
      total += p.price * qty;
      items.push({ p, qty });
    }
    return { items, total };
  }

  function addToCart(id, fromProductPage=false, fromEl=null){
    const c = getCart();
    c[id] = (c[id] || 0) + 1;
    setCart(c);

    const p = PRODUCTS.find(x=>x.id===id);
    showToast(p ? `–í –∫–æ—Ä–∑–∏–Ω–µ: ${p.name}` : "–î–æ–±–∞–≤–ª–µ–Ω–æ");
    haptic("success");

    const badge = document.getElementById("cartBadge");
    if(badge.style.display !== "none") bumpCartBadge();

    if(fromEl) flyToCart(fromEl);
    else if(fromProductPage) flyToCart(document.getElementById("pImg"));
  }

  function removeFromCart(id){
    const c = getCart();
    if (!c[id]) return;
    c[id] -= 1;
    if (c[id] <= 0) delete c[id];
    setCart(c);
    haptic("impact");
  }

  function updateUI(){
    const count = cartCount();
    const badge = document.getElementById("cartBadge");
    badge.textContent = String(count);
    badge.style.display = count > 0 ? "flex" : "none";

    const cartList = document.getElementById("cartList");
    const cartTotal = document.getElementById("cartTotal");
    if(cartList && cartTotal){
      const { items, total } = cartSummary();
      cartTotal.textContent = `–ò—Ç–æ–≥–æ: ${total}‚ÇΩ`;

      if(!items.length){
        cartList.innerHTML = `<div class="subtitle" style="padding:10px 0;">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞—è.</div>`;
        cartTotal.textContent = `–ò—Ç–æ–≥–æ: 0‚ÇΩ`;
      } else {
        cartList.innerHTML = items.map(({p, qty})=>{
          return `
            <div style="display:flex; align-items:center; justify-content:space-between; gap:12px; padding:12px 0; border-bottom:1px solid rgba(255,255,255,.10);">
              <div style="min-width:0;">
                <div style="font-weight:980; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;">${p.name}</div>
                <div class="subtitle">${p.price}‚ÇΩ ‚Ä¢ ${p.meta}</div>
              </div>
              <div class="row" style="gap:8px; flex:0 0 auto; flex-wrap:nowrap;">
                <button class="miniBtn" onclick="removeFromCart('${p.id}')" aria-label="–ú–∏–Ω—É—Å">
                  <span style="font-weight:980; font-size:16px; line-height:0;">‚àí</span>
                </button>
                <button class="chip active" style="padding:8px 10px; cursor:default;">${qty}</button>
                <button class="miniBtn" onclick="addToCart('${p.id}')" aria-label="–ü–ª—é—Å">
                  <span style="font-weight:980; font-size:16px; line-height:0;">+</span>
                </button>
              </div>
            </div>
          `;
        }).join("");
      }
    }
  }

  // =============================
  // SEND ORDER
  // =============================
  function sendOrder(){
    const { items, total } = cartSummary();
    if(!items.length){ alert("–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞—è üòÖ"); return; }

    const name = document.getElementById("name").value.trim() || "‚Äî";
    const phone = document.getElementById("phone").value.trim() || "‚Äî";
    const comment = document.getElementById("comment").value.trim() || "‚Äî";

    const lines = items.map(({p, qty}) => `${p.name} √ó ${qty} = ${p.price*qty}‚ÇΩ`).join("\n- ");

    const text =
`üõçÔ∏è –ó–∞–∫–∞–∑ (–¥–µ–º–æ)
–ò–º—è: ${name}
–¢–µ–ª–µ—Ñ–æ–Ω: ${phone}

–¢–æ–≤–∞—Ä—ã:
- ${lines}

–ò—Ç–æ–≥–æ: ${total}‚ÇΩ
–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: ${comment}`;

    const url = `https://t.me/${OWNER_USERNAME}?text=${encodeURIComponent(text)}`;
    if (window.Telegram?.WebApp?.openTelegramLink) window.Telegram.WebApp.openTelegramLink(url);
    else window.open(url, "_blank");
    haptic("success");
  }

  // =============================
  // ACCOUNT MODAL
  // =============================
  function openAccount(){
    fillAccountUI();
    document.getElementById("accountModal").classList.add("show");
    haptic("impact");
  }
  function closeAccount(){ document.getElementById("accountModal").classList.remove("show"); }

  function clearLocal(){
    localStorage.removeItem(CART_KEY);
    localStorage.removeItem(WISH_KEY);
    wishlistView = false;
    document.getElementById("catalogHint").innerHTML = `<span>–ü–æ–¥–±–æ—Ä —Ä–∞–∑–º–µ—Ä–æ–≤</span><span>–î–æ—Å—Ç–∞–≤–∫–∞</span><span>–û–ø–ª–∞—Ç–∞ (—Å–∫–æ—Ä–æ)</span><span>–ù–æ–≤—ã–π –¥—Ä–æ–ø</span>`;
    applyFilters();
    updateUI();
    showToast("–û—á–∏—â–µ–Ω–æ");
  }

  // =============================
  // INIT
  // =============================
  function init(){
    try{
      window.Telegram?.WebApp?.ready?.();
      window.Telegram?.WebApp?.expand?.();
    }catch(e){}

    renderCatalog(PRODUCTS);
    applyFilters();
    handleRoute();
    updateUI();
    fillAccountUI();
  }
  init();
</script>
</body>
</html>
