<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dancewear Demo</title>
  <style>
    :root{
  --bg:#f6f5f3;        /* —Ç—ë–ø–ª—ã–π –±–µ–ª—ã–π, –∫–∞–∫ —Å—Ç—É–¥–∏—è */
  --card:#ffffff;
  --text:#141417;
  --muted:#6e6e77;
  --accent:#1b1b1f;    /* ‚Äúfashion black‚Äù */
  --line: rgba(20,20,23,.10);
}
    body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Arial;
  background: radial-gradient(900px 600px at 20% -10%, rgba(0,0,0,.05), transparent 60%),
              radial-gradient(700px 500px at 90% 10%, rgba(0,0,0,.04), transparent 55%),
              var(--bg);
  color:var(--text);
}
    header{
  padding:16px 16px 10px;
  position:sticky;
  top:0;
  background: rgba(246,245,243,.75);
  backdrop-filter: blur(10px);
  border-bottom:1px solid var(--line);
}
    .row { display:flex; gap:10px; align-items:center; }
    .title { font-size:18px; font-weight:700; }
    .pill{
  margin-left:auto;
  background: rgba(20,20,23,.06);
  padding:8px 10px;
  border-radius:999px;
  font-size:13px;
  color:var(--muted);
}
    main { padding:12px 16px 90px; }
    .grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:12px;
}

@media (min-width: 520px){
  .grid{ grid-template-columns: 1fr 1fr 1fr; }
}
.productCard{
  background: rgba(255,255,255,.9);
  border: 1px solid var(--line);
  border-radius: 22px;
  overflow:hidden;
  box-shadow: 0 14px 40px rgba(20,20,23,.08);
  transition: transform .18s ease, box-shadow .18s ease;
}
.productCard:active{ transform: scale(.99); }

.pImg{
  height: 140px;
  background: linear-gradient(135deg, rgba(20,20,23,.10), rgba(20,20,23,.02));
  display:flex;
  align-items:flex-end;
  padding:12px;
}
.pBadge{
  background: rgba(255,255,255,.75);
  border: 1px solid var(--line);
  padding:6px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:800;
}
.pBody{ padding:12px; }
.pName{ font-weight:900; letter-spacing:.2px; }
.pDesc{ margin-top:6px; color:var(--muted); font-size:12.5px; line-height:1.35; }
.pBottom{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin-top:12px; }
.pPrice{ font-weight:900; }
.pAdd{
  width:auto;
  margin:0;
  padding:10px 12px;
  border-radius:14px;
  background: rgba(20,20,23,.06);
  color: var(--text);
  font-weight:900;
}

    
    .card{
  background: rgba(255,255,255,.85);
  border: 1px solid var(--line);
  border-radius: 22px;
  padding: 14px;
  box-shadow: 0 14px 40px rgba(20,20,23,.08);
}
    .card h3 { margin:0 0 6px; font-size:16px; }
    .muted{ color:var(--muted); font-size:13px; line-height:1.35; }
   .price{
  font-size:18px;
  font-weight:800;
  margin-top:12px;
  letter-spacing:.2px;
}
    button{
  width:100%;
  margin-top:10px;
  border:0;
  border-radius:16px;
  padding:14px;
  font-weight:800;
  cursor:pointer;
}
    .btn{
  background: linear-gradient(180deg, #1b1b1f, #0f0f12);
  color:#fff;
  box-shadow: 0 10px 26px rgba(20,20,23,.18);
}
    .btn2{
  background: rgba(20,20,23,.06);
  color:var(--text);
}
   .bar{
  position:fixed;
  left:0; right:0; bottom:0;
  padding:12px 16px;
  background: rgba(246,245,243,.8);
  backdrop-filter: blur(12px);
  border-top:1px solid var(--line);
}
   input, textarea{
  width:100%;
  box-sizing:border-box;
  border-radius:16px;
  border:1px solid var(--line);
  padding:12px 14px;
  background: rgba(255,255,255,.9);
  color:var(--text);
  outline:none;
}
    input:focus, textarea:focus{
  border-color: rgba(20,20,23,.28);
  box-shadow: 0 0 0 4px rgba(20,20,23,.06);
}
    textarea{ min-height:86px; resize:vertical; }
    .two { display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
    a { color: var(--accent); }



/* motion */
* { -webkit-tap-highlight-color: transparent; }

.card, .btn, .btn2, .pill {
  transition: transform .18s ease, box-shadow .18s ease, background .18s ease, opacity .18s ease;
}

.card:active { transform: scale(.99); }
.btn:active, .btn2:active { transform: scale(.98); }

@media (hover:hover){
  .card:hover { transform: translateY(-2px); box-shadow: 0 18px 50px rgba(20,20,23,.10); }
  .btn:hover { transform: translateY(-1px); box-shadow: 0 14px 32px rgba(20,20,23,.22); }
}

/* cart pill bump */
@keyframes bump {
  0% { transform: scale(1); }
  35% { transform: scale(1.12); }
  100% { transform: scale(1); }
}
.bump { animation: bump .28s ease; }

/* soft screen transitions */
.view {
  transition: opacity .18s ease, transform .18s ease;
}
.view.hidden {
  opacity: 0;
  transform: translateY(6px);
  pointer-events: none;
  position: absolute;
  left: -9999px; /* —á—Ç–æ–±—ã –Ω–µ –∑–∞–Ω–∏–º–∞–ª–æ –º–µ—Å—Ç–æ */
}

/* toast */
#toast {
  position: fixed;
  left: 50%;
  bottom: 86px;
  transform: translateX(-50%) translateY(10px);
  background: rgba(20,20,23,.92);
  color: #fff;
  padding: 10px 14px;
  border-radius: 999px;
  font-weight: 700;
  font-size: 13px;
  opacity: 0;
  transition: opacity .18s ease, transform .18s ease;
  box-shadow: 0 12px 30px rgba(0,0,0,.18);
  z-index: 9999;
}
#toast.show {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}


    
  </style>
</head>

<body>
<header>
  <div class="row">
   <div class="title">Studio Wear</div>
    <div class="pill" id="cartPill">–ö–æ—Ä–∑–∏–Ω–∞: 0</div>
  </div>
  <div class="muted" style="margin-top:6px;">
  Elegant dancewear ‚Ä¢ –ø—Ä–∏–º–µ—Ä –≤–∏—Ç—Ä–∏–Ω—ã –≤ Telegram
</div>
</header>

<main>
  <!-- CATALOG -->
  <div id="viewCatalog" class="view">
    <div class="card" style="margin-bottom:12px;">
      <div class="row" style="gap:8px;">
        <input id="search" placeholder="–ü–æ–∏—Å–∫: —Ç–æ–ø, –ª–µ–≥–∏–Ω—Å—ã, –∫–æ–º–ø–ª–µ–∫—Ç‚Ä¶" oninput="applyFilters()" />
      </div>

      <div class="row" style="gap:8px; margin-top:10px; flex-wrap:wrap;">
        <button class="btn2" style="width:auto; padding:10px 12px;" onclick="setCategory('all')">–í—Å–µ</button>
        <button class="btn2" style="width:auto; padding:10px 12px;" onclick="setCategory('sets')">–ö–æ–º–ø–ª–µ–∫—Ç—ã</button>
        <button class="btn2" style="width:auto; padding:10px 12px;" onclick="setCategory('tops')">–¢–æ–ø—ã</button>
        <button class="btn2" style="width:auto; padding:10px 12px;" onclick="setCategory('leggings')">–õ–µ–≥–∏–Ω—Å—ã</button>
        <button class="btn2" style="width:auto; padding:10px 12px;" onclick="setCategory('leotards')">–ö—É–ø–∞–ª—å–Ω–∏–∫–∏</button>
      </div>
    </div>

    <div class="grid" id="catalog"></div>
  </div>

  <!-- PRODUCT PAGE -->
  <div id="viewProduct" class="view hidden">
    <div class="card">
      <button class="btn2" onclick="go('catalog')" style="margin-top:0;">‚Üê –ù–∞–∑–∞–¥</button>

      <div class="pImg" id="pImg" style="height:220px; border-radius:18px; margin-top:12px;">
        <div class="pBadge" id="pBadge">Studio</div>
      </div>

      <div style="margin-top:12px;">
        <div style="font-size:20px; font-weight:950; letter-spacing:.2px;" id="pName">‚Äî</div>
        <div class="muted" style="margin-top:6px;" id="pDesc">‚Äî</div>

        <div class="row" style="margin-top:14px; gap:10px;">
          <div class="pill" id="pPrice">‚Äî</div>
          <div class="pill" id="pMeta">XS‚ÄìL ‚Ä¢ 2 —Ü–≤–µ—Ç–∞</div>
        </div>

        <button class="btn" onclick="addToCart(window.__currentProductId)" style="margin-top:14px;">
          –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
        </button>
      </div>
    </div>
  </div>

  <!-- CART -->
  <div id="viewCart" class="view hidden">
    <div class="card">
      <div class="row">
        <div style="font-size:18px; font-weight:900;">–ö–æ—Ä–∑–∏–Ω–∞</div>
        <div class="pill" id="cartTotal" style="margin-left:auto;"></div>
      </div>

      <div id="cartList" style="margin-top:10px;"></div>

      <button class="btn" onclick="go('checkout')" style="margin-top:12px;">
        –ü–µ—Ä–µ–π—Ç–∏ –∫ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—é
      </button>
      <button class="btn2" onclick="go('catalog')">‚Üê –ù–∞–∑–∞–¥ –≤ –∫–∞—Ç–∞–ª–æ–≥</button>
    </div>
  </div>

  <!-- CHECKOUT -->
  <div id="viewCheckout" class="view hidden">
    <div class="card">
      <button class="btn2" onclick="go('cart')" style="margin-top:0;">‚Üê –ù–∞–∑–∞–¥</button>

      <h3 style="margin:12px 0 6px;">–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ (–¥–µ–º–æ)</h3>

      <div class="two">
        <div>
          <div class="muted" style="margin:6px 0;">–ò–º—è</div>
          <input id="name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–∞—à–∞" />
        </div>
        <div>
          <div class="muted" style="margin:6px 0;">–¢–µ–ª–µ—Ñ–æ–Ω</div>
          <input id="phone" placeholder="+7 ..." />
        </div>
      </div>

      <div class="muted" style="margin:10px 0 6px;">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (—Ä–∞–∑–º–µ—Ä/—Ü–≤–µ—Ç/–¥–æ—Å—Ç–∞–≤–∫–∞)</div>
      <textarea id="comment" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —Ä–∞–∑–º–µ—Ä M, –¥–æ—Å—Ç–∞–≤–∫–∞ –°–î–≠–ö"></textarea>

      <button class="btn" onclick="sendOrder()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑ –≤ Telegram</button>
      <div class="muted" style="margin-top:10px;">
        * –ü–æ–∫–∞ –¥–µ–º–æ: –±–µ–∑ –æ–ø–ª–∞—Ç—ã. –î–∞–ª—å—à–µ –ø–æ–¥–∫–ª—é—á–∏–º —ç–∫–≤–∞–π—Ä–∏–Ω–≥/–°–ë–ü.
      </div>
    </div>
  </div>
</main>


<div class="bar">
  <button class="btn" id="mainBtn" onclick="go('cart')">–ö–æ—Ä–∑–∏–Ω–∞</button>
</div>
<div id="toast">–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ—Ä–∑–∏–Ω—É</div>
<script>
  // 1) –§–µ–π–∫–æ–≤—ã–µ —Ç–æ–≤–∞—Ä—ã (–ø–æ—Ç–æ–º –∑–∞–º–µ–Ω–∏–º –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ)
const PRODUCTS = [
  { id:"set1", cat:"sets", badge:"Studio", name:"Silk Line Set", desc:"–ö–æ–º–ø–ª–µ–∫—Ç ‚Ä¢ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ / —Å—Ç—É–¥–∏—è", price:3490, meta:"XS‚ÄìL ‚Ä¢ 2 —Ü–≤–µ—Ç–∞" },
  { id:"leo1", cat:"leotards", badge:"Elegant", name:"Contour Leotard", desc:"–ö—É–ø–∞–ª—å–Ω–∏–∫ ‚Ä¢ –ø–æ—Å–∞–¥–∫–∞ –ø–æ —Ñ–∏–≥—É—Ä–µ", price:2590, meta:"XS‚ÄìL ‚Ä¢ black" },
  { id:"top1", cat:"tops", badge:"Soft", name:"Studio Top", desc:"–¢–æ–ø ‚Ä¢ –º—è–≥–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞", price:1490, meta:"XS‚ÄìM ‚Ä¢ 3 —Ü–≤–µ—Ç–∞" },
  { id:"leg1", cat:"leggings", badge:"Core", name:"High Waist Leggings", desc:"–õ–µ–≥–∏–Ω—Å—ã ‚Ä¢ –≤—ã—Å–æ–∫–∞—è –ø–æ—Å–∞–¥–∫–∞", price:1990, meta:"XS‚ÄìL ‚Ä¢ black" },
];

  // 2) –ö–æ—Ä–∑–∏–Ω–∞ –≤ localStorage
  const CART_KEY = "demo_cart_v1";
  function getCart(){ return JSON.parse(localStorage.getItem(CART_KEY) || "{}"); }
  function setCart(c){ localStorage.setItem(CART_KEY, JSON.stringify(c)); updateUI(); }

  function showToast(text="–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ—Ä–∑–∏–Ω—É"){
  const t = document.getElementById("toast");
  t.textContent = text;
  t.classList.add("show");
  clearTimeout(window.__toastTimer);
  window.__toastTimer = setTimeout(()=>t.classList.remove("show"), 1200);
}

function bumpCart(){
  const pill = document.getElementById("cartPill");
  pill.classList.remove("bump"); // –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∞–Ω–∏–º–∞—Ü–∏–∏
  void pill.offsetWidth;
  pill.classList.add("bump");
}

function addToCart(id){
  const c = getCart();
  c[id] = (c[id] || 0) + 1;
  setCart(c);

  bumpCart();
  const p = PRODUCTS.find(x=>x.id===id);
  showToast(p ? `–í –∫–æ—Ä–∑–∏–Ω–µ: ${p.name}` : "–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∫–æ—Ä–∑–∏–Ω—É");
}
  function removeFromCart(id){
    const c = getCart();
    if (!c[id]) return;
    c[id] -= 1;
    if (c[id] <= 0) delete c[id];
    setCart(c);
  }

  function cartCount(){
    const c = getCart();
    return Object.values(c).reduce((a,b)=>a+b,0);
  }

  function cartSummary(){
    const c = getCart();
    let lines = [];
    let total = 0;
    for (const [id, qty] of Object.entries(c)){
      const p = PRODUCTS.find(x=>x.id===id);
      if (!p) continue;
      total += p.price * qty;
      lines.push(`${p.name} √ó ${qty} = ${p.price*qty}‚ÇΩ`);
    }
    return { lines, total };
  }

  // 3) –†–µ–Ω–¥–µ—Ä
 let currentCategory = "all";

function setCategory(cat){
  currentCategory = cat;
  applyFilters();
}

function applyFilters(){
  const q = (document.getElementById("search")?.value || "").trim().toLowerCase();
  const filtered = PRODUCTS.filter(p=>{
    const matchCat = currentCategory === "all" || p.cat === currentCategory;
    const matchQ = !q || (p.name + " " + p.desc).toLowerCase().includes(q);
    return matchCat && matchQ;
  });
  renderCatalog(filtered);
}

function renderCatalog(list = PRODUCTS){
  const el = document.getElementById("catalog");
  el.innerHTML = "";

  list.forEach(p=>{
    const card = document.createElement("div");
    card.className = "productCard";
    card.innerHTML = `
      <div class="pImg" onclick="openProduct('${p.id}')">
        <div class="pBadge">${p.badge}</div>
      </div>
      <div class="pBody">
        <div class="pName">${p.name}</div>
        <div class="pDesc">${p.desc}</div>
        <div class="pBottom">
          <div class="pPrice">${p.price}‚ÇΩ</div>
          <button class="pAdd" onclick="event.stopPropagation(); addToCart('${p.id}')">+ –í –∫–æ—Ä–∑–∏–Ω—É</button>
        </div>
      </div>
    `;
    el.appendChild(card);
  });
}

  function showView(name){
  const map = {
    catalog: "viewCatalog",
    product: "viewProduct",
    cart: "viewCart",
    checkout: "viewCheckout",
  };

  Object.values(map).forEach(id=>{
    document.getElementById(id).classList.add("hidden");
  });
  document.getElementById(map[name]).classList.remove("hidden");
  updateUI();
}

function go(name){
  location.hash = name === "catalog" ? "#/" : `#/${name}`;
}

function openProduct(id){
  const p = PRODUCTS.find(x=>x.id===id);
  if(!p) return;
  window.__currentProductId = id;

  document.getElementById("pBadge").textContent = p.badge;
  document.getElementById("pName").textContent = p.name;
  document.getElementById("pDesc").textContent = p.desc;
  document.getElementById("pPrice").textContent = `${p.price}‚ÇΩ`;
  document.getElementById("pMeta").textContent = p.meta;

  go("product");
}

function handleRoute(){
  const h = (location.hash || "#/").replace("#/","");
  const page = h || "catalog";
  if(page === "product") showView("product");
  else if(page === "cart") showView("cart");
  else if(page === "checkout") showView("checkout");
  else showView("catalog");
}
window.addEventListener("hashchange", handleRoute);


  function updateUI(){
  document.getElementById("cartPill").textContent = `–ö–æ—Ä–∑–∏–Ω–∞: ${cartCount()}`;

  // Cart list
  const cartList = document.getElementById("cartList");
  if(cartList){
    const { lines, total } = cartSummary();
    document.getElementById("cartTotal").textContent = lines.length ? `–ò—Ç–æ–≥–æ: ${total}‚ÇΩ` : "";

    const c = getCart();
    if(!Object.keys(c).length){
      cartList.innerHTML = `<div class="muted">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞—è.</div>`;
    } else {
      cartList.innerHTML = Object.entries(c).map(([id, qty])=>{
        const p = PRODUCTS.find(x=>x.id===id);
        if(!p) return "";
        return `
          <div style="display:flex; align-items:center; justify-content:space-between; gap:10px; padding:12px 0; border-bottom:1px solid var(--line);">
            <div style="min-width:0;">
              <div style="font-weight:900; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;">${p.name}</div>
              <div class="muted">${p.price}‚ÇΩ</div>
            </div>
            <div class="row" style="gap:8px; flex:0 0 auto;">
              <button class="btn2" style="width:auto; padding:10px 12px;" onclick="removeFromCart('${id}')">‚àí</button>
              <div class="pill">${qty}</div>
              <button class="btn2" style="width:auto; padding:10px 12px;" onclick="addToCart('${id}')">+</button>
            </div>
          </div>
        `;
      }).join("");
    }
  }
}


  // 4) –ù–∞–≤–∏–≥–∞—Ü–∏—è
function goCart(){
  const cat = document.getElementById("viewCatalog");
  const cart = document.getElementById("viewCart");

  cat.classList.add("hidden");
  cart.classList.remove("hidden");
  updateUI();
}

function goCatalog(){
  const cat = document.getElementById("viewCatalog");
  const cart = document.getElementById("viewCart");

  cart.classList.add("hidden");
  cat.classList.remove("hidden");
  updateUI();
}

  // 5) –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–∫–∞–∑–∞ –≤–ª–∞–¥–µ–ª—å—Ü—É –±–µ–∑ —Å–µ—Ä–≤–µ—Ä–∞:
  // –û—Ç–∫—Ä–æ–µ–º —á–∞—Ç @USERNAME –∏ –ø–æ–¥—Å—Ç–∞–≤–∏–º —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è (deep link).
  // –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ t.me/<username>?text=... (—á–µ—Ä–µ–∑ Telegram).
  // –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ deep links –µ—Å—Ç—å —É Telegram. :contentReference[oaicite:1]{index=1}
  const OWNER_USERNAME = "egorkram"; // <-- –∑–∞–º–µ–Ω–∏—à—å –Ω–∞ –µ—ë @username (–±–µ–∑ @)

  function sendOrder(){
    const c = getCart();
    const { lines, total } = cartSummary();
    if (!lines.length) { alert("–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞—è üòÖ"); return; }

    const name = document.getElementById("name").value.trim() || "‚Äî";
    const phone = document.getElementById("phone").value.trim() || "‚Äî";
    const comment = document.getElementById("comment").value.trim() || "‚Äî";

    const text =
`üõçÔ∏è –ó–∞–∫–∞–∑ (–¥–µ–º–æ)
–ò–º—è: ${name}
–¢–µ–ª–µ—Ñ–æ–Ω: ${phone}

–¢–æ–≤–∞—Ä—ã:
- ${lines.join("\n- ")}

–ò—Ç–æ–≥–æ: ${total}‚ÇΩ
–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: ${comment}`;

    const url = `https://t.me/${OWNER_USERNAME}?text=${encodeURIComponent(text)}`;

    // –ï—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç–æ –≤–Ω—É—Ç—Ä–∏ Telegram Mini App ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º openTelegramLink, –∏–Ω–∞—á–µ –æ–±—ã—á–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥.
    if (window.Telegram?.WebApp?.openTelegramLink) {
      window.Telegram.WebApp.openTelegramLink(url);
    } else {
      window.open(url, "_blank");
    }
  }

renderCatalog(PRODUCTS);
applyFilters();
handleRoute();
updateUI();

</script>
</body>
</html>



